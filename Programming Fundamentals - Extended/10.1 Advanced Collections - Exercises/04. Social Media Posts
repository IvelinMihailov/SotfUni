using System;
using System.Collections.Generic;
using System.Linq;

public class SocialMediaPosts
{
    public static void Main()
    {
        var lineDate = Console.ReadLine();

        var likes = new Dictionary<string, int>();
        var dislikes = new Dictionary<string, int>();
        var commentars = new Dictionary<string, Dictionary<string, string>>();

        while (lineDate != "drop the media")
        {
            var tokens = lineDate.Split();
            var command = tokens[0];
            var postName = tokens[1];

            if (!likes.ContainsKey(postName))
            {
                likes[postName] = 0;
            }
            else
            {
                if (command == "like")
                {
                    likes[postName]++;
                }
            }

            if (!dislikes.ContainsKey(postName))
            {
                dislikes[postName] = 0;
            }
            else
            {
                if (command == "dislike")
                {
                    dislikes[postName]++;
                }
            }
            //commentar

            if (!commentars.ContainsKey(postName))
            {
                commentars[postName] = new Dictionary<string, string>();
            }


            if (command == "comment" && commentars.ContainsKey(postName))
            {
                if (!commentars[postName].ContainsValue(tokens[2]))
                {
                    commentars[postName][tokens[2]] = tokens[3];
                }
            }


            lineDate = Console.ReadLine();
        }

        var counterDisLikes = 0;
        var counterCom = 0;
        var counterCommentars = 0;

        foreach (var item in likes)
        {
            Console.Write($"Post: {item.Key} | Likes: {item.Value} | ");
            for (int i = counterDisLikes; i < dislikes.Count; i++)
            {
                var numLike = dislikes.ElementAt(i);
                var likesNums = numLike.Value;
                Console.Write($"Dislikes: {likesNums}");
                counterDisLikes++;
                break;
            }

            Console.WriteLine();
            Console.WriteLine("Comments:");

            for (int i = counterCommentars; i < commentars.Count; i++)
            {
                var itemInComentars = commentars.ElementAt(i);
                var nameAndComentars = itemInComentars.Value;

                if (nameAndComentars.Count==0)
                {
                    Console.WriteLine("None");
                }
                else
                {
                    foreach (var com in nameAndComentars)
                    {
                        Console.WriteLine($"*  {com.Key}: {com.Value}");
                    }
                }
               
                counterCommentars++;
                break;
            }
        }
    }
}
